<template name="chooseIdentity">
	<div class="grey-background"></div>
	<div id="chooseIdentity" class="container-fluid">
		<div class="row">
			<div class="col-sm-4 col-sm-offset-4">
				<div class="panel panel-default" ng-if="hasSome()">
					<div class="panel-heading">
						<h3 class="panel-title">Accedi come</h3>
					</div>
					<div class="panel-body">
						<button class="btn btn-block btn-default" ng-repeat="person in $root.Persons" ng-click="accessAsPerson($index)">
							[[person.info.firstName + " " + person.info.lastName]]
						</button>
						<button class="btn btn-block btn-default" ng-repeat="group in $root.Groups" ng-click="accessAsGroup($index)">
							[[group.info.name]]
						</button>
					</div>
				</div>
				<br ng-if="hasSome()" />
				<div class="panel panel-default">
					<div class="panel-heading ps-clickable" ng-click="addPanelCollapsed = !addPanelCollapsed">
						<h3 class="panel-title">Aggiungi identit√†</h3>
					</div>
					<div class="panel-collapse" collapse="addPanelCollapsed">
						<div class="panel-body">
							<div class="btn-group btn-group-justified">
								<div class="btn-group">
									<button type="button" class="btn btn-default" ng-model="identityType" btn-radio="'person'">Persona</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-default" ng-model="identityType" btn-radio="'group'">Gruppo</button>
								</div>
							</div>
							<br />
							<div ng-if="identityType === type.person">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Nome" ng-model="person.info.firstName" />
								</div>
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Cognome" ng-model="person.info.lastName" />
								</div>
							</div>
							<div ng-if="identityType === type.group">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Nome" ng-model="group.info.name" />
								</div>
							</div>
							<button class="btn btn-default" type="button" ng-click="addIdentity()">
								Aggiungi
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>
